:_content-type: ASSEMBLY
[id="microshift-architecture"]
= Architecture
include::_attributes/attributes-microshift.adoc[]
include::_attributes/common-attributes.adoc[]
:context: microshift-architecture

toc::[]

Learn the specifics of {product-title} architecture including design intent, how it differs from {OCP}, and API compatibility.

[id="microshift-architectural-design_{context}"]
== Architectural design
{product-title} is a single-node container orchestration runtime designed to extend the benefits of using containers for running applications to low-resource edge environments. Because {product-title} is primarily as a platform for deploying applications, only the APIs and features essential to operating in edge and small form factor computing environments are included. For example, {product-title} is tasked with only the following Kubernetes cluster capabilities:

* Networking
* Ingress
* Storage
* Helm

{product-title} also provides the following Kubernetes functions:

* Orchestration
* Security

{product-title} is optimized when used with a compatible operating system, such as {op-system-ostree-first}. When used together, {product-title} and {op-system-ostree-first} form {op-system-bundle}.

.{product-title} as part of {op-system-bundle}.
image::microshift-RHDE-Tech-Overview.png[<{product-title} is tasked with only the Kubernetes cluster services networking, ingress, storage, helm, with additional Kubernetes functions of orchestration and security.>]

The following operational differences from {OCP} can help you understand where {product-title} can be deployed:

[id="microshift-differences-ocp_{context}"]
== Key differences from {OCP}
* Application-level events and metrics are observation-only
* Devices with {product-title} installed are self-managing
* Compatible with RPM-OStree-based systems
* Uses only the APIs needed for essential functions, such as security and runtime controls
* Enables a subset of commands from the OpenShift CLI (`oc`) tool
* Does not support workload high availability (HA) or horizontal scalability by the adding of worker nodes

.{product-title} differences from {oke}.
image::microshift-RHDE-v-OpenShiftKE.png[<{product-title} is tasked with only the Kubernetes cluster capabilities of networking, ingress, storage, helm, with the additional Kubernetes functions of orchestration and security.>]

Figure 2 shows that {oke} has the same cluster services as {product-title}, but also has many more, such as:

* Install
* Over-the-air updates
* Cluster Operators
* Operator Lifecycle Manager
* Monitoring
* Logging
* Registry
* Authorization
* Console
* Cloud Integration
* Virtual Machines (VMs)

In {oke} and other {OCP} deployments, all of the components from the operating system through the cluster capabilities are treated as one unit. {product-title} is a separate component in which functions such as over-the-air-updates, monitoring, and logging, are performed by the operating system.

[id="microshift-openshift-apis_{context}"]
== {product-title} OpenShift APIs

In addition to the standard Kubernetes APIs, {product-title} includes a subset of the APIs supported by {OCP}.

[cols="1,1",options="header"]
|===
^| API ^| API group
| xref:../microshift_rest_api/network_apis/route-route-openshift-io-v1.adoc#route-route-openshift-io-v1[Route]
| route.openshift.io/v1
| xref:../microshift_rest_api/security_apis/securitycontextconstraints-security-openshift-io-v1.adoc#securitycontextconstraints-security-openshift-io-v1[SecurityContextConstraints]
| security.openshift.io/v1
|===

include::modules/microshift-oc-apis-errors.adoc[leveloffset=+1]

include::modules/microshift-k8s-apis.adoc[leveloffset=+1]